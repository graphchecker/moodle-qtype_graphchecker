import json
import sys

{% for module in checker_modules %}
import {{ module }}
{% endfor %}

from preprocess import preprocess

student_answer = """{{ STUDENT_ANSWER | e('py') }}"""
student_answer = preprocess(json.loads(student_answer))

sample_answer = """{{ QUESTION.answer | e('py') }}"""
if sample_answer == '':
    sample_answer = None
else:
    sample_answer = preprocess(json.loads(sample_answer))

preload_answer = """{{ QUESTION.answerpreload | e('py') }}"""
if preload_answer == '':
    preload_answer = None
else:
    preload_answer = preprocess(json.loads(preload_answer))

results = []

{% for check in checks %}
result = {{ check.get_check_code() }}
result['module'] = """{{ check.module | e('py') }}"""
result['method'] = """{{ check.method | e('py') }}"""
results.append(result)
{% endfor %}

print(json.dumps(results))

