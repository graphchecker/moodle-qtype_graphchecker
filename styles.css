/**
 * This file is part of GraphChecker - https://github.com/graphchecker
 *
 * GraphChecker is based on CodeRunner by Richard Lobb et al.
 * See https://coderunner.org.nz/
 *
 * GraphChecker is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * GraphChecker is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with GraphChecker.  If not, see <http://www.gnu.org/licenses/>.
 */

/* Question and results page */

.que.graphchecker div.graphchecker-examples,
.que.graphchecker div.graphchecker-test-results {
    width: 100%;
    overflow-x: auto;
    box-sizing: border-box;
}

.que.graphchecker textarea.edit_code {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
}

.que.graphchecker div.graphcheckerexamples {
    padding-bottom: 10px;
}

#page-question-type-graphchecker div.ui_wrapper,
.que.graphchecker div.ui_wrapper {
    max-width: 100%;
    box-sizing: border-box;
    background-color: #f0f0f0;
}

.que.graphchecker .ace_editor,
body#page-question-type-graphchecker .ace_editor {
    font-size: 100%;
    line-height: 18px;
}

.que.graphchecker p.for-example-para {
    font-weight: bold;
}

.que.graphchecker div.graphchecker-test-results {
    padding: 0.5em;
}

.que.graphchecker label.answerprompt {
    font-weight: bold;
}

.que.graphchecker div.prompt {
    margin-top: 20px;
    margin-bottom: 7px;
}

.que.graphchecker div.graphchecker-lang-select-div {
    padding-top: 10px;
    padding-bottom: 3px;
}

.que.graphchecker select.graphchecker-lang-select {
    margin: 0 0 0 10px;
    padding: 1px 5px 1px 5px;
}

.que.graphchecker input.answer_reset_btn {
    margin-bottom: 5px;
}

#page-question-type-graphchecker table.graphchecker-test-results td,
#page-question-type-graphchecker table.graphchecker-test-results th,
.que.graphchecker table.graphchecker-test-results td,
.que.graphchecker table.graphchecker-test-results th,
.que.graphchecker table.graphcheckerexamples td,
.que.graphchecker table.graphcheckerexamples th {
    border: 1px solid #b0b0b0;
    padding: 0.4em;
}

#page-question-type-graphchecker table.graphchecker-test-results .header,
.que.graphchecker table.graphchecker-test-results .header,
.que.graphchecker table.graphcheckerexamples .header {
    text-align: left;
    background-color: #f8f8ff;
}

.que.graphchecker table.graphchecker-test-results tr.hidden-test {
    opacity: 0.5;
}

#page-question-type-graphchecker table.graphchecker-test-results {
    margin-top: 0.5em;
    margin-bottom: 0;
}

.que.graphchecker table.graphchecker-test-results,
.que.graphchecker table.graphcheckerexamples {
    margin-bottom: 1em;
}

#page-question-type-graphchecker div.graphchecker-test-results td:last-child,
#page-question-type-graphchecker div.graphchecker-test-results td:first-child
.que.graphchecker div.graphchecker-test-results td:last-child,
.que.graphchecker div.graphchecker-test-results td:first-child {
    min-width: 16px;
}

.que.graphchecker textarea.graphchecker-answer[cols] {
    max-width: 100%;
    width: auto;
    line-height: 18px;
}

.que.graphchecker div.graphchecker-test-results {
    color: black;
}

.que.graphchecker div.precheck h3 {
    margin: 3px 0;
    font-size: 24px;
    color: #333;
}

.que.graphchecker pre.tablecell {
    background-color: inherit;
    border: none;
    padding: 0;
    white-space: pre;
}

.que.graphchecker div.graphchecker-test-results pre,
.que.graphchecker div.graphchecker-examples pre {
    margin-bottom: 0;
}

.que.graphchecker div.graphchecker-test-results.good,
#page-question-type-graphchecker tr.graphchecker-failed-test.fixed {
    background-color: #afa;
}

.que.graphchecker div.graphchecker-test-results.good.precheck {
    background: repeating-linear-gradient(0deg, #fff, #fff 8px, #f8f1f9 8px, #f8f1f9 16px);
}

.que.graphchecker div.graphchecker-test-results.bad,
.que.graphchecker div.pre_syntax_error,
.que.graphchecker div.pre_question_error {
    background-color: #faa;
}

.que.graphchecker div.graphchecker-test-results.bad.precheck,
.que.graphchecker pre.pre_syntax_error .precheck {
    background: repeating-linear-gradient(0deg, #fdd, #fdd 8px, #fee 8px, #fee 16px);
}

.que.graphchecker pre.pre_syntax_error,
.que.graphchecker div.pre_question_error {
    border: none;
}

div.graphchecker-test-results.partial {
    background-color: #fff3bf;
}

.que.graphchecker span.answerprompt {
    font-weight: bold;
}

.que.graphchecker span.penaltyregime {
    padding-left: 0.6em;
}

/* Ins and del elements are used to show differences. ins elements are
   always hidden and del elements are always displayed (without decoration),
   but the background colour of del elements is toggled by the
   Show/Hide differences button.
*/
.que.graphchecker div.graphchecker-test-results del {
    text-decoration: none;
    background-color: #e0e000;
}

/* Add lines I seem to have somehow overridden in styles.php */
.que.graphchecker tr.r0 td {
    background-color: #f5f5f5;
}

.que.graphchecker tr.r1 td {
    background-color: #e5e5e5;
}

.que.graphchecker div.im-controls p.penaltyregime {
    display: inline;
    float: right;
}

.que.graphchecker .ace_wrapper {
    border: 1px solid #d9edf7;
}

.que.graphchecker .ace_gutter-cell {
    border-right: solid 1px #000;
}

.que.graphchecker .ace_fold-widget {
    background-color: transparent;
    background-image: none;
    border: none;
}

.que.graphchecker .ace_fold-widget:hover {
    border: 1px solid gray;
    margin-top: 1px;
}

/* expand */
.que.graphchecker .ace_fold-widget.ace_closed::before {
    content: '►';
    color: gray;
    font-size: 80%;
    margin: 0 2px;
    margin-top: -4px;
}

/* collapse */
.que.graphchecker .ace_fold-widget.ace_open::before {
    content: '▼';
    color: gray;
    font-size: 60%;
    margin: 0 2px;
}

.que.graphchecker .ace_line .ace_fold {
    padding-right: 1px;
    line-height: 9px;
}

.que.graphchecker .ace_line .ace_fold::before {
    background-image: none;
    content: '←→';
    float: right;
    margin-top: -1px;
}

/* Editing form. */
body#page-question-type-graphchecker div.edit_code textarea {
    width: 100%;
    max-width: 100%;
    box-sizing: border-box;
    font-family: "Fira Mono", courier, monospace;
}

body#page-question-type-graphchecker div#id_qtype_graphchecker_error_div:empty {
    display: none;
}

body#page-question-type-graphchecker div#id_qtype_graphchecker_error_div {
    font-size: 120%;
    font-weight: bold;
    color: red;
    border: 2px solid red;
    padding: 4px;
}

body#page-question-type-graphchecker textarea#id_templateparams {
    resize: both;
}

body#page-question-type-graphchecker .ace_wrapper {
    border: 1px solid #bbb;
}

body#page-question-type-graphchecker div[id^=fitem_id_],
body#page-question-type-graphchecker div[id^=fgroup_id_] {
    background: #eee;
    margin-bottom: 0;
    margin-top: 0;
    padding-bottom: 5px;
    padding-top: 5px;
    border: 1px solid #bbb;
    border-top: 0;
    border-bottom: 0;
    overflow: visible;
}

body#page-question-type-graphchecker label[for^=id_useasexample],
body#page-question-type-graphchecker label[for^=id_hiderestiffail],
body#page-question-type-graphchecker label.form-check {
    padding: 5px;
    border: 1px solid lightgray;
}

body#page-question-type-graphchecker p.question-type-details-header {
    font-size: 130%;
    padding-bottom: 10px;
}

body#page-question-type-graphchecker div[id^=fgroup_id_][id*=show_columns] .felement span {
    margin-right: 2em;
}

body#page-question-type-graphchecker div[id^=fgroup_id_][id*=show_columns] {
    padding-top: 16px;
    padding-bottom: 16px;
}

body#page-question-type-graphchecker select#id_graphchecker_type {
    margin-right: 2em;
}

body#page-question-type-graphchecker div[id^=fitem_id_testcode]:not(:first-of-type) {
    margin-top: 14px;
    border: 1px solid #bbb;
    border-bottom: 0;
    padding-top: 8px;
}

body#page-question-type-graphchecker div[id=fitem_id_addanswers] {
    margin-top: 14px;
    border: 1px solid #bbb;
    padding-top: 8px;
}

body#page-question-type-graphchecker input[name="usecurrentcat"] {
    margin-right: 1px;
    margin-left: 2em;
}

body#page-question-type-graphchecker input[type="checkbox"] + label {
    margin-right: 1em;
}

body#page-question-type-graphchecker textarea.edit_code {
    width: 100%;
    box-sizing: border-box;
    font-family: courier, monospace;
}

body#page-question-type-graphchecker textarea.uiloadfailed {
    border: 6px solid orange;
}

body#page-question-type-graphchecker div.uiloadfailed {
    background-color: orange;
    padding-bottom: 0;
    padding-left: 10px;
}

body#page-question-type-graphchecker input.testcasemark,
body#page-question-type-graphchecker input.graphchecker_answerbox_size,
body#page-question-type-graphchecker input#id_cputimelimitsecs,
body#page-question-type-graphchecker input#id_memlimitmb {
    width: auto;
}

body#page-question-type-graphchecker div.testcaseexpression {
    padding-top: 10px;
    border-top: 1px solid lightgrey;
}

/* Tests UI */

body#page-question-type-graphchecker .tests-ui .active-tests-list,
body#page-question-type-graphchecker .tests-ui .available-tests-list {
    width: 100%;
    max-width: 550px;
    overflow-y: auto;
    border: 1px solid darkgray;
    background-color: white;
    margin-bottom: 15px;
}

body#page-question-type-graphchecker .tests-ui .backdrop,
.graphchecker_overlay {
    position: fixed;
    display: none;
    left: 0;
    right: 0;
    top: 0;
    bottom: 0;
    opacity: 0;
    transition: opacity .5s;
    z-index: 2000;
    background-color: rgba(0, 0, 0, 0.3);
    overflow-y: scroll;
}

body#page-question-type-graphchecker .tests-ui .backdrop.visible,
.graphchecker_overlay.visible {
    opacity: 1;
}

body#page-question-type-graphchecker .tests-ui .test-container,
body#page-question-type-graphchecker .tests-ui .grade-container {
    border-bottom: 1px solid darkgray;
    padding: 5px;
}

body#page-question-type-graphchecker .tests-ui .test-container {
    background-color: #f2f2f2;
}

body#page-question-type-graphchecker .tests-ui .grade-container {
    background-color: white;
}

.graphchecker_toolbar {
    display: inline-flex;
    background-color: #f2f2f2;
    border-bottom: 1px solid #bbb;
    min-height: 43.55px;
    width: 100%;
}

body#page-question-type-graphchecker .tests-ui .test-container:last-child,
body#page-question-type-graphchecker .tests-ui .grade-container:last-child {
    border-bottom: 0;
}

body#page-question-type-graphchecker .tests-ui .module-container {
    padding: 6px 8px;
    border-bottom: 1px solid darkgray;
    background-color: #f0f0f0;
}
body#page-question-type-graphchecker .tests-ui .module-container:last-child {
    border-bottom: none;
}
body#page-question-type-graphchecker .tests-ui .module-container summary {
    padding: 3px 0px;
}

/* definitions for button styling taken from atto for consistency */
body#page-question-type-graphchecker .tests-ui .button-group,
.graph_ui_container_div .toolbar_button {
    display: inline-block;
    border: 1px solid #ccc;
    border-bottom: 1px solid #b3b3b3;
    border-radius: 4px;
    margin: 2px;
    background: #fff;
    color: black;
}

body#page-question-type-graphchecker .tests-ui .test-container button .fa,
.graph_ui_container_div .toolbar_button .fa {
    color: black !important;
}

body#page-question-type-graphchecker .tests-ui .button {
    padding: 1px 6px 3px 6px;
    background: none;
    border: 0;
    margin: 0;
    border-radius: 0;
    cursor: pointer;
}

body#page-question-type-graphchecker .tests-ui .button + .button {
    border-left: 1px solid #ccc;
}

body#page-question-type-graphchecker .tests-ui .button:hover,
.graph_ui_container_div .toolbar_button:hover:not(:active):not(.mode):not(.disabled),
.graph_ui_container_div .toolbar_button.mode.not_clicked:hover:not(:active) {
    background-image: radial-gradient(ellipse at center, rgba(255, 255, 255, 1) 60%, rgba(223, 223, 223, 1) 100%);
    background-color: #ebebeb !important;
}

.graph_ui_container_div button.toolbar_button.clicked,
.graph_ui_container_div button.toolbar_button:active:not(.disabled) {
    background-color: #ebebeb !important;
    box-shadow: 0 2px 6px inset rgba(0, 0, 0, 0.3);
    border-color: #a0a0a0;
    border-bottom-color: #b0b0b0;
}

.graph_ui_container_div button.toolbar_button.disabled {
    opacity: .3;
}

.graph_ui_container_div .toolbar_button {
    padding: 0 !important;
}

button.toolbar_button.petri_node_type {
    margin-top: 2px !important;
}

body#page-question-type-graphchecker .tests-ui .button .icon {
    padding: 0;
    margin: 2px 0;
}

body#page-question-type-graphchecker .tests-ui .test-name {
    margin-left: 10px;
    font-weight: bold;
}

body#page-question-type-graphchecker .tests-ui .test-used-check {
    float: right;
    margin-left: 10px;
    font-weight: bold;
}

body#page-question-type-graphchecker .tests-ui .available-tests-list .button-group {
    position: absolute;
}

body#page-question-type-graphchecker .tests-ui .float-right {
    float: right;
}

body#page-question-type-graphchecker .tests-ui .available-tests-list .test-name,
body#page-question-type-graphchecker .tests-ui .available-tests-list .test-description {
    margin-left: 45px;
}

body#page-question-type-graphchecker .tests-ui .module-name {
    font-weight: bold;
}

body#page-question-type-graphchecker .tests-ui .argument-row {
    padding-bottom: 5px;
}

body#page-question-type-graphchecker .tests-ui .argument-row + .argument-row {
    padding-top: 5px;
}

body#page-question-type-graphchecker .tests-ui .argument-name {
    padding-left: 73px;
    padding-right: 21px;
}

body#page-question-type-graphchecker .tests-ui .argument-value {
    width: 140px;
}

body#page-question-type-graphchecker .tests-ui textarea.argument-value {
    display: block;
    margin-left: 73px;
    width: calc(100% - 85px);
    resize: vertical;
}

body#page-question-type-graphchecker .tests-ui .btn-link {
    position: relative;
    left: 5px;
    top: -2px;
}

.dialog {
    max-width: 600px;
    margin: auto;
    margin-top: 50px;
    background-color: white;
    padding: 20px;
    border-radius: 5px;
    box-shadow: 0 7px 25px rgba(0, 0, 0, 0.3);
    color: black;
}

.dialog-header {
    font-size: 24px;
    border-bottom: 1px solid #ccc;
    padding-bottom: 10px;
    margin-bottom: 20px;
}

.dialog-section {
    font-size: 18px;
}

body#page-question-type-graphchecker.unscrollable {
    overflow-y: hidden;
}

/* Bulk tester */
li.bulktest.graphchecker.context.quiz {
    padding-left: 1.5em;
    list-style-type: none;
}


/* Graph UI */

.graph_ui_container_div button .icon {
    padding: 0;
    margin: 2px 0;
}

/* Styling for the subparts of the graph UI toolbar */
.graph_ui_container_div div.graphchecker_toolbar {
    display: flex;
}

.graph_ui_container_div div.toolbar_part {
    display: inline-flex;
    align-items: center;
    vertical-align: top;
    padding: 0 3px;
}

.graph_ui_container_div div.toolbar_part.left {
    border-right: 1px solid DarkGray;
    flex-stretch: 0;
}

.graph_ui_container_div div.toolbar_part.right {
    border-left: 1px solid DarkGray;
    flex-stretch: 0;
}

.graph_ui_container_div div.toolbar_part.middle {
    flex-stretch: 1;
    display: inline-flex;
    flex-wrap: wrap;
    align-items: center;
}

/* Checkboxes */

.graph_ui_container_div div.toolbar_field {
    position: relative;
    font-size: 14px;
    color: black;
    margin: 0.0px 7px;
}

.graph_ui_container_div div.toolbar_field label.checkbox_label {
    display: inline-block;
    position: relative;
    margin-right: 10px;
    margin-bottom: 0;
    color: black;
}

.graph_ui_container_div div.checkbox_Highlight {
    width: 80px;
}

.graph_ui_container_div div.checkbox_Initial {
    width: 57px;
}

.graph_ui_container_div div.checkbox_Final {
    width: 55px;
}

.graph_ui_container_div div.checkbox_label {
    padding-right: 5px;
    margin-left: 5px;
    font-size: 14px;
}

.graph_ui_container_div input.toolbar_checkbox {
    margin: 0;
    position: absolute;
    top: 4px;

    opacity: 0;
    cursor: pointer;
    height: 15px;
    width: 15px;
}

.graph_ui_container_div span.toolbar_checkbox {
    /* create a custom checkbox positioned on top of the actual input
       field */
    position: absolute;
    top: 4px;

    height: 14px;
    width: 14px;
    background-color: white;
    border: 1px solid black;
    cursor: pointer;

    /* make sure mouse clicks end up on the underlying input element */
    pointer-events: none;
}

/* On hover over the input checkbox, add a border color to the span checkbox */
.graph_ui_container_div div.checkbox_label:not(:hover) ~ input.toolbar_checkbox:hover ~ span.toolbar_checkbox {
    border-color: #0078d7;
}

/* Create the checkmark/indicator (hidden when not checked) */
.graph_ui_container_div span.toolbar_checkbox:after {
    content: "";
    position: absolute;
    display: none;
}

/* Show the checkmark in the span when checked */
.graph_ui_container_div input.toolbar_checkbox:checked ~ span.toolbar_checkbox_black:after,
.graph_ui_container_div input.toolbar_checkbox:checked ~ span.toolbar_checkbox_gray:after {
    display: block;
}

/* Styling of the checkmark */
.graph_ui_container_div span.toolbar_checkbox_black:after {
    left: 4px;
    top: 0;
    width: 4.5px;
    height: 9px;
    border: solid black;
    border-width: 0 3px 3px 0;
    -webkit-transform: rotate(45deg);
    -ms-transform: rotate(45deg);
    transform: rotate(45deg);
}

.graph_ui_container_div span.toolbar_checkbox_gray:after {
    left: 4px;
    top: 0;
    width: 5px;
    height: 10px;
    border: solid darkgray;
    border-width: 0 3px 3px 0;
    -webkit-transform: rotate(45deg);
    -ms-transform: rotate(45deg);
    transform: rotate(45deg);
}

.graph_ui_container_div div.field_label {
    position: relative;
    font-size: 14px;
    margin: 0.0px 7px;
    color: black;
}

.graph_ui_container_div input.toolbar_numberinput {
    height: 17.5px;
    width: 45px;
    margin-left: 5px;
}

.graph_ui_container_div input.toolbar_textfield {
    top: -2px;
    position: relative;
    margin: 0;
    height: 17.5px;
}

.graph_ui_container_div input.toolbar_textfield.invalid {
    box-shadow: 0 0 5px red;
}

.graph_ui_container_div button.disabled {
    background-color: #d9d9d9;
}

.graph_ui_container_div ul.dialog-help {
    margin-top: 0;
    margin-bottom: 0;
}

/* Styling for the custom dropdown menu */
.graph_ui_container_div i.dropdown_item_icon {
    font-size: 12px;
    /* Used to center the icons in their direct parent div */
    top: calc(50% - 11px);
    position: relative;
    margin-right: 0px;
}

.graph_ui_container_div .hide {
    display: none;
}

.graph_ui_container_div div.custom_dropdown_field {
    width: 95px;
    height: 17.5px;
    background-color: white;
    border: 1px solid #7a7a7a;
}

.graph_ui_container_div div.custom_dropdown_field:hover {
    border-color: #171717;
}

.graph_ui_container_div div.custom_dropdown_field:hover i.custom_dropdown_icon {
    background-color: #e5f1fb;
    border: 1px solid #0078d7;
}

.graph_ui_container_div div.dropdown_item {
    height: 18.4px;
    padding: 0 5px;
}

.graph_ui_container_div div.dropdown_item:hover {
    background-color: dodgerblue;
}

.graph_ui_container_div i.custom_dropdown_icon {
    position: relative;
    width: 15px;
    height: 100%;
    font-size: 12px;
    text-align: center;
    float: right;
    right: -1px;
    top: -1px;
    border: 1px solid transparent;
    margin-right: 0px;
}

.graph_ui_container_div span.dropdown_item {
    position: relative;
    top: calc(50% - 11px);
    font-size: 14px;
    user-select: none;
}

.graph_ui_container_div div.custom_dropdown_itemlist_wrapper {
    position: relative;
}

.graph_ui_container_div div.custom_dropdown_itemlist {
    position: absolute;
    width: 95px;
    z-index: 99;
    background-color: white;
    border: 1px solid #7a7a7a;
    cursor: default;
    user-select: none;
}
